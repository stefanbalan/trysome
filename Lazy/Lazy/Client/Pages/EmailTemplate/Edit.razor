@page "/EmailTemplate/Edit/{TemplateId:int}"
@using Lazy.Model
@using Lazy.Client.Services
@using System.ComponentModel.DataAnnotations

@inherits BaseEditPage

@inject HttpClient HttpClient
@inject DataService<EmailTemplateModel> DataService
@inject NotificationService NotificationService


<EditForm
    @* EditContext="@ValidationContext.EditContext" *@
    @* OnValidSubmit="HandleValidSumit" *@
    >
    <DataAnnotationsValidator />
    <ValidationSummary/>
    
    

    <PageTitle>Edit template</PageTitle>
    <h2>Editor</h2>
    <RadzenButton Icon="arrow-left" ButtonStyle="ButtonStyle.Secondary" Variant="Variant.Flat" Click="GoBack">
        Back
    </RadzenButton>
    <RadzenButton Icon="save" ButtonStyle="ButtonStyle.Primary" Variant="Variant.Flat" Click="Save">
        Save
    </RadzenButton>

    <RadzenTextBox @bind-Value="@_emailTemplate.Name"></RadzenTextBox>
    <RadzenTextBox @bind-Value="@_emailTemplate.Title"></RadzenTextBox>

    <RadzenHtmlEditor @bind-Value=@_emailTemplate.Text style="height: 500px; margin-bottom: 1rem;" UploadUrl="upload/image">
        <RadzenHtmlEditorUndo/>
        <RadzenHtmlEditorRedo/>
        <RadzenHtmlEditorSeparator/>
        <RadzenHtmlEditorBold/>
        <RadzenHtmlEditorItalic/>
        <RadzenHtmlEditorUnderline/>
        <RadzenHtmlEditorStrikeThrough/>
        <RadzenHtmlEditorSeparator/>
        <RadzenHtmlEditorColor/>
        <RadzenHtmlEditorBackground/>
        <RadzenHtmlEditorRemoveFormat/>
    </RadzenHtmlEditor>
</EditForm>